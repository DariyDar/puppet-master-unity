# Cryo's Mini GUI - Bars Documentation

## Файл: Bars_4x.png (448x192 пикселей)

### Структура текстуры

```
Y координата (Unity: Y=0 внизу)
│
192 ┌──────────────────────────────────────────────────────────┐
    │  [Красная рамка]  [Красная заливка]  [Мал.рамка]         │ Ряд 1 (y=144-192)
144 ├──────────────────────────────────────────────────────────┤
    │  [Синяя рамка]    [Синяя заливка]    [Мал.рамка]         │ Ряд 2 (y=96-144)
 96 ├──────────────────────────────────────────────────────────┤
    │  [Жёлтая рамка]   [Жёлтая заливка]   [Мал.рамка]         │ Ряд 3 (y=48-96)
 48 ├──────────────────────────────────────────────────────────┤
    │  Цветные полоски (16 штук, каждая 64x16)                  │ Ряд 4 (y=0-32)
  0 └──────────────────────────────────────────────────────────┘
    0                  160           256           352         448  X
```

---

## Карта спрайтов

### Большие бары для GUI (левая часть)

| Спрайт | X | Y | Размер | Назначение | Border (9-slice) |
|--------|---|---|--------|------------|------------------|
| **Bars_4x_0** | 0 | 144 | 160x48 | Красная рамка | L:21, R:19 |
| **Bars_4x_1** | 160 | 160 | 96x32 | Красная заливка | L:17, R:15 |
| **Bars_4x_3** | 0 | 96 | 136x48 | Синяя рамка | L:21 |
| **Bars_4x_4** | 160 | 112 | 96x32 | Синяя заливка | L:17, R:14 |
| **Bars_4x_8** | 0 | 48 | 160x48 | Жёлтая рамка | L:23, R:20 |
| **Bars_4x_10** | 160 | 64 | 96x32 | Жёлтая заливка | L:13, R:14 |

### Маленькие бары для World Space (правая часть, x=352)

| Спрайт | X | Y | Размер | Назначение | Border (9-slice) |
|--------|---|---|--------|------------|------------------|
| **Bars_4x_6** | 352 | 180 | 96x12 | Маленькая красная рамка | L:9, R:8 |
| **Bars_4x_7** | 352 | 132 | 96x12 | Маленькая синяя рамка | L:15, R:14 |
| **Bars_4x_12** | 352 | 84 | 83x12 | Маленькая жёлтая рамка | L:15 |

### Тонкие заливки (средняя часть, x=256)

| Спрайт | X | Y | Размер | Назначение |
|--------|---|---|--------|------------|
| **Bars_4x_2** | 256 | 172 | 84x20 | Тонкая красная заливка |
| **Bars_4x_5** | 256 | 124 | 96x20 | Тонкая синяя заливка |
| **Bars_4x_11** | 256 | 76 | 96x20 | Тонкая жёлтая заливка |

### Цветные полоски (нижняя часть, y=0-16)

| Спрайт | X | Y | Размер | Цвет |
|--------|---|---|--------|------|
| **Bars_4x_9** | 0 | 16 | 64x16 | Синий |
| **Bars_4x_13** | 64 | 16 | 64x16 | Зелёный |
| **Bars_4x_14** | 128 | 16 | 64x16 | Жёлтый |
| **Bars_4x_15** | 192 | 16 | 64x16 | Оранжевый |
| **Bars_4x_16** | 256 | 16 | 64x16 | Красный |
| **Bars_4x_17** | 320 | 16 | 64x16 | Фиолетовый |
| **Bars_4x_18** | 384 | 16 | 64x16 | Розовый |
| **Bars_4x_23** | 0 | 0 | 64x16 | Тёмно-синий |
| **Bars_4x_22** | 64 | 0 | 64x16 | Тёмно-зелёный |
| **Bars_4x_21** | 128 | 0 | 64x16 | Оливковый |
| **Bars_4x_20** | 192 | 0 | 64x16 | Коричневый |
| **Bars_4x_19** | 256 | 0 | 64x16 | Бордовый |
| **Bars_4x_25** | 320 | 0 | 64x16 | Тёмно-фиолетовый |
| **Bars_4x_24** | 384 | 0 | 64x16 | Тёмно-розовый |

---

## Использование в коде

### GUI бары (PlayerHUDBar.cs)

```csharp
// HP Bar - красная рамка (Bars_4x_0) + цветные полоски:
//   - Bars_4x_21 (зелёный) - HP > 75%
//   - Bars_4x_20 (жёлтый)  - HP 25-75%
//   - Bars_4x_23 (красный) - HP < 25%

// XP Bar - синяя рамка (Bars_4x_3) + фиолетовая полоска (Bars_4x_19)
```

### Цветные полоски для HP (нижний ряд спрайтшита)

| Спрайт | Цвет | Использование |
|--------|------|---------------|
| Bars_4x_21 | Зелёный | HP > 75% |
| Bars_4x_20 | Жёлтый | HP 25-75% |
| Bars_4x_23 | Красный | HP < 25% |
| Bars_4x_19 | Фиолетовый | XP бар |

### World Space бары (WorldHealthBar.cs)

```csharp
// Маленькие бары над юнитами/врагами
// Рамка: Bars_4x_6 (красная маленькая)
// Заливка: программный цвет (без спрайта) или цветная полоска
```

---

## Ручная нарезка в Unity Sprite Editor

Если нарезка сбилась, восстановить так:

### Шаги:

1. Выбрать `Bars_4x.png` в Project
2. В Inspector:
   - Texture Type: `Sprite (2D and UI)`
   - Sprite Mode: `Multiple`
   - Filter Mode: `Point (no filter)`
   - Compression: `None`
3. Нажать **Sprite Editor**
4. Для каждого элемента:
   - Нарисовать синий прямоугольник вокруг спрайта
   - Задать имя в поле Name справа
   - Задать Border для 9-slice (только для рамок)
5. Нажать **Apply**

### Важные координаты для восстановления:

```
# Большие рамки (слева)
Bars_4x_0: x=0, y=144, w=160, h=48, border=21,0,19,0
Bars_4x_3: x=0, y=96, w=136, h=48, border=21,0,0,0
Bars_4x_8: x=0, y=48, w=160, h=48, border=23,0,20,0

# Большие заливки (середина)
Bars_4x_1: x=160, y=160, w=96, h=32, border=17,0,15,0
Bars_4x_4: x=160, y=112, w=96, h=32, border=17,0,14,0
Bars_4x_10: x=160, y=64, w=96, h=32, border=13,0,14,0

# Маленькие рамки (справа)
Bars_4x_6: x=352, y=180, w=96, h=12, border=9,0,8,0
Bars_4x_7: x=352, y=132, w=96, h=12, border=15,0,14,0
Bars_4x_12: x=352, y=84, w=83, h=12, border=15,0,0,0
```

---

## Цветовая схема HP бара

```csharp
// Пороги
highHealthThreshold = 0.75f;  // 75%
lowHealthThreshold = 0.25f;   // 25%

// Цвета
highHealthColor = (0.2f, 0.9f, 0.2f);  // Зелёный
midHealthColor = (1f, 0.85f, 0.2f);     // Жёлтый
lowHealthColor = (0.9f, 0.2f, 0.2f);    // Красный

// XP всегда фиолетовый
xpColor = (0.6f, 0.3f, 0.9f);
```

---

## Связанные файлы

- `Assets/Scripts/UI/PlayerHUDBar.cs` - Runtime компонент для GUI баров
- `Assets/Scripts/UI/WorldHealthBar.cs` - World space бары над юнитами
- `Assets/Scripts/Editor/GUICreator.cs` - Editor tool для создания UI
- `Assets/Cryo's Mini GUI/Bars/Bars_4x.png` - Спрайтшит
- `Assets/Cryo's Mini GUI/Bars/Bars_4x.png.meta` - Настройки нарезки
